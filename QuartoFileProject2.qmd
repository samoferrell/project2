---
title: "QuartoFileProject2"
format: html
editor: visual
---

## Information about the API
Link: https://www.tvmaze.com/api
This API gives us information about famous TV Shows.
Our endpoints are /shows/id/cast,episodes,images,crew,seasons

## Function Writing:
```{r}
library(jsonlite)
search_show <- function(url = "https://api.tvmaze.com/shows", show_name = NULL, endpoint = NULL){
  id_info <- httr::GET(url)
  parsed <- fromJSON(rawToChar(id_info$content))
  all_shows <- tibble::as_tibble(parsed)
    if (!is.null(show_name) | (!is.null(endpoint))){
    subsetted <- subset(all_shows, name == show_name)
    id <- subsetted$id
    new_url <- paste(url, id, endpoint, sep = "/")
    id_info_specific <- httr::GET(new_url)
    parsed_specific <- fromJSON(rawToChar(id_info_specific$content))
    info_specific <- tibble::as_tibble(parsed_specific)
    return(info_specific)
    }
  else{
    return(all_shows)
  }
  }

data <- search_show(url = "https://api.tvmaze.com/shows")
View(data)
```

