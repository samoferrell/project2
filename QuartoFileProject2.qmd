---
title: "QuartoFileProject2"
format: html
editor: visual
---

## Information about the API

Link: https://www.tvmaze.com/api This API gives us information about famous TV Shows. Our endpoints are /shows/id/cast,episodes,images,crew,seasons

Row Manipulations:
All - rating_average
episodes - rating
cast - person_gender
seasons_

## Function Writing:

```{r}
library(jsonlite)
search_show <- function(url = "https://api.tvmaze.com/shows", show_name = NULL, endpoint = NULL){
  id_info <- httr::GET(url)
  parsed <- fromJSON(rawToChar(id_info$content))
  all_shows <- tibble::as_tibble(parsed)
    if (!is.null(show_name) | (!is.null(endpoint))){
    subsetted <- subset(all_shows, name == show_name)
    id <- subsetted$id
    new_url <- paste(url, id, endpoint, sep = "/")
    id_info_specific <- httr::GET(new_url)
    parsed_specific <- fromJSON(rawToChar(id_info_specific$content))
    info_specific <- tibble::as_tibble(parsed_specific)
    return(info_specific)
    }
  else{
    return(all_shows)
  }
  }

show_data <- search_show(url = "https://api.tvmaze.com/shows")
cast <- search_show(show_name = "Breaking Bad", endpoint = "seasons")
BreakingBad <- search_show(show_name = "Breaking Bad")
View(show_data)
```

Contingency Tables:

```{r}
CT <- table(show_data$type, show_data$network$country$name, show_data$schedule$days)
```

### Practice with ggplots and analyzing the data.

– You should create some contingency tables

     type(scripted reality) and day shown and country name
     rating range and runtime / type
    
     
– You should create numerical summaries for some quantitative variables at each setting of some of your categorical variables

      average show rating based on genre specified


– You should create at least four plots utilizing coloring, grouping, etc. All plots should have nice labels and titles.

    average show rating based on premiered year - grouped and colored by type
    episode trend rating faceted by season
    
    ** special plot **
    half violin - half dot plot = vertical distribution for age and 
    grouped by gender of cast of a show

∗ At least one plot that you create should be a plot that we didn’t cover in class (say a heatmap
or something like that - depends on your data - lots of good examples to consider here
https://exts.ggplot2.tidyverse.org/gallery/)



A Data Exploration tab. The tab should
– Allow the user to choose variables/combinations of variables that are summarized via numerical and graphical summaries
2
∗ The user should be able to change the type of plot shown and type of summary reported (this
may correspond to different types of data that are downloaded)
∗ The user should be able to do some kind of faceting on a plot

for all show data I can do: 
pick your x 





